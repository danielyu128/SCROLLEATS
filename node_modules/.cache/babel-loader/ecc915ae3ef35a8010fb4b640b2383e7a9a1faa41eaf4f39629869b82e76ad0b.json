{"ast":null,"code":"var _jsxFileName = \"/Users/andrewnguyen/scrollEats/src/components/InfiniteScroll.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useRef, useEffect } from 'react';\nimport { useInView } from 'react-intersection-observer';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InfiniteScroll = ({\n  items,\n  hasMore,\n  isLoading,\n  onLoadMore,\n  renderItem\n}) => {\n  _s();\n  const containerRef = useRef(null);\n  const [ref, inView] = useInView({\n    threshold: 0.1,\n    rootMargin: '100px'\n  });\n\n  // Load more when the last item comes into view\n  useEffect(() => {\n    if (inView && hasMore && !isLoading) {\n      onLoadMore();\n    }\n  }, [inView, hasMore, isLoading, onLoadMore]);\n\n  // Handle scroll events for smooth scrolling\n  const handleScroll = useCallback(e => {\n    const target = e.target;\n    const {\n      scrollTop,\n      scrollHeight,\n      clientHeight\n    } = target;\n\n    // Check if we're near the bottom\n    if (scrollHeight - scrollTop - clientHeight < 100 && hasMore && !isLoading) {\n      onLoadMore();\n    }\n  }, [hasMore, isLoading, onLoadMore]);\n\n  // Keyboard navigation\n  const handleKeyDown = useCallback(e => {\n    if (e.key === 'ArrowDown' || e.key === 'PageDown') {\n      var _containerRef$current;\n      e.preventDefault();\n      (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.scrollBy({\n        top: 100,\n        behavior: 'smooth'\n      });\n    } else if (e.key === 'ArrowUp' || e.key === 'PageUp') {\n      var _containerRef$current2;\n      e.preventDefault();\n      (_containerRef$current2 = containerRef.current) === null || _containerRef$current2 === void 0 ? void 0 : _containerRef$current2.scrollBy({\n        top: -100,\n        behavior: 'smooth'\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: \"h-screen-dynamic overflow-y-auto scroll-smooth\",\n    onScroll: handleScroll,\n    onKeyDown: handleKeyDown,\n    tabIndex: 0,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: items.map((item, index) => /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 50\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: -50\n          },\n          transition: {\n            duration: 0.3,\n            delay: index * 0.1,\n            ease: 'easeOut'\n          },\n          className: \"w-full\",\n          children: renderItem(item, index)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        className: \"flex justify-center items-center py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-primary-500 rounded-full animate-bounce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-primary-500 rounded-full animate-bounce\",\n            style: {\n              animationDelay: '0.1s'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-primary-500 rounded-full animate-bounce\",\n            style: {\n              animationDelay: '0.2s'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), !hasMore && items.length > 0 && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        className: \"text-center py-8 text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You've reached the end! \\uD83C\\uDF7D\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: \"Check back later for more restaurants\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: ref,\n        className: \"h-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(InfiniteScroll, \"+pcNKyTJbdZ/l6elmmZPPODLcBE=\", false, function () {\n  return [useInView];\n});\n_c = InfiniteScroll;\nexport default InfiniteScroll;\nvar _c;\n$RefreshReg$(_c, \"InfiniteScroll\");","map":{"version":3,"names":["React","useCallback","useRef","useEffect","useInView","motion","AnimatePresence","jsxDEV","_jsxDEV","InfiniteScroll","items","hasMore","isLoading","onLoadMore","renderItem","_s","containerRef","ref","inView","threshold","rootMargin","handleScroll","e","target","scrollTop","scrollHeight","clientHeight","handleKeyDown","key","_containerRef$current","preventDefault","current","scrollBy","top","behavior","_containerRef$current2","className","onScroll","onKeyDown","tabIndex","children","map","item","index","div","initial","opacity","y","animate","exit","transition","duration","delay","ease","id","fileName","_jsxFileName","lineNumber","columnNumber","style","animationDelay","length","_c","$RefreshReg$"],"sources":["/Users/andrewnguyen/scrollEats/src/components/InfiniteScroll.tsx"],"sourcesContent":["import React, { useCallback, useRef, useEffect } from 'react';\nimport { useInView } from 'react-intersection-observer';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { InfiniteScrollProps } from '../types';\n\nconst InfiniteScroll: React.FC<InfiniteScrollProps> = ({\n  items,\n  hasMore,\n  isLoading,\n  onLoadMore,\n  renderItem,\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [ref, inView] = useInView({\n    threshold: 0.1,\n    rootMargin: '100px',\n  });\n\n  // Load more when the last item comes into view\n  useEffect(() => {\n    if (inView && hasMore && !isLoading) {\n      onLoadMore();\n    }\n  }, [inView, hasMore, isLoading, onLoadMore]);\n\n  // Handle scroll events for smooth scrolling\n  const handleScroll = useCallback((e: React.UIEvent<HTMLDivElement>) => {\n    const target = e.target as HTMLDivElement;\n    const { scrollTop, scrollHeight, clientHeight } = target;\n    \n    // Check if we're near the bottom\n    if (scrollHeight - scrollTop - clientHeight < 100 && hasMore && !isLoading) {\n      onLoadMore();\n    }\n  }, [hasMore, isLoading, onLoadMore]);\n\n  // Keyboard navigation\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'ArrowDown' || e.key === 'PageDown') {\n      e.preventDefault();\n      containerRef.current?.scrollBy({ top: 100, behavior: 'smooth' });\n    } else if (e.key === 'ArrowUp' || e.key === 'PageUp') {\n      e.preventDefault();\n      containerRef.current?.scrollBy({ top: -100, behavior: 'smooth' });\n    }\n  }, []);\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"h-screen-dynamic overflow-y-auto scroll-smooth\"\n      onScroll={handleScroll}\n      onKeyDown={handleKeyDown}\n      tabIndex={0}\n    >\n      <div className=\"relative\">\n        <AnimatePresence>\n          {items.map((item, index) => (\n            <motion.div\n              key={item.id}\n              initial={{ opacity: 0, y: 50 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -50 }}\n              transition={{\n                duration: 0.3,\n                delay: index * 0.1,\n                ease: 'easeOut',\n              }}\n              className=\"w-full\"\n            >\n              {renderItem(item, index)}\n            </motion.div>\n          ))}\n        </AnimatePresence>\n\n        {/* Loading indicator */}\n        {isLoading && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"flex justify-center items-center py-8\"\n          >\n            <div className=\"flex space-x-2\">\n              <div className=\"w-2 h-2 bg-primary-500 rounded-full animate-bounce\" />\n              <div className=\"w-2 h-2 bg-primary-500 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }} />\n              <div className=\"w-2 h-2 bg-primary-500 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }} />\n            </div>\n          </motion.div>\n        )}\n\n        {/* End of list indicator */}\n        {!hasMore && items.length > 0 && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"text-center py-8 text-gray-500\"\n          >\n            <p>You've reached the end! 🍽️</p>\n            <p className=\"text-sm\">Check back later for more restaurants</p>\n          </motion.div>\n        )}\n\n        {/* Intersection observer target */}\n        <div ref={ref} className=\"h-1\" />\n      </div>\n    </div>\n  );\n};\n\nexport default InfiniteScroll; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}